# Production Environment Configuration
# Copy this file to .env.production and fill in the values

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=production
PORT=3001
APP_URL=https://bagmane-ams.yourdomain.com

# ============================================
# DATABASE CONFIGURATION
# ============================================
# For Production: Use PostgreSQL
DATABASE_URL="postgresql://bagmane_user:CHANGE_THIS_PASSWORD@localhost:5432/bagmane_production"

# For SQLite (current development setup)
# DATABASE_URL="file:./prisma/dev.db"

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=GENERATE_STRONG_SECRET_HERE_64_CHARS_MINIMUM
JWT_EXPIRES_IN=8h

# Session secret
SESSION_SECRET=GENERATE_ANOTHER_STRONG_SECRET_HERE

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================================
# EMAIL SERVICE (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=notifications@bagmane.com
SMTP_PASS=YOUR_APP_SPECIFIC_PASSWORD
EMAIL_FROM=noreply@bagmane.com
EMAIL_FROM_NAME=Bagmane Asset Management

# ============================================
# FILE STORAGE
# ============================================
# Options: 'local' or 's3'
STORAGE_TYPE=s3

# Local storage (for development/testing)
UPLOAD_DIR=uploads/
MAX_FILE_SIZE=10485760  # 10MB in bytes

# AWS S3 (for production)
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=ap-south-1
AWS_BUCKET_NAME=bagmane-assets-prod
AWS_BUCKET_URL=https://bagmane-assets-prod.s3.ap-south-1.amazonaws.com

# ============================================
# API KEYS & INTEGRATIONS
# ============================================
# Google Gemini AI
GEMINI_API_KEY=YOUR_GEMINI_API_KEY

# ============================================
# MONITORING & LOGGING
# ============================================
# Sentry for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Log level: 'error', 'warn', 'info', 'debug'
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100   # per window

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN=https://bagmane-ams.yourdomain.com
CORS_CREDENTIALS=true

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=bagmane-backups-prod

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_REGISTRATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_TWO_FACTOR_AUTH=false

# ============================================
# PERFORMANCE
# ============================================
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
CACHE_TTL=3600  # 1 hour in seconds

# ============================================
# MAINTENANCE MODE
# ============================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please check back later.
